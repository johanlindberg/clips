; Begin loads, runs, and bsaves
(clear)
(set-strategy depth)
(unwatch all)
(open "memtest.rsl" memtest "w")
(printout memtest "All numbers appearing below should be equal:" crlf)
(release-mem)
(printout memtest (mem-used) crlf)
(load "mab.clp")
(bsave "mab.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "dilemma1.clp")
(reset)
(run)
(bsave "dilemma1.bin")
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "dilemma2.clp")
(reset)
(run)
(reset)
(run)
(bsave "dilemma2.bin")
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "wordgame.clp")
(reset)
(bsave "wordgame.bin")
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "zebra.clp")
(reset)
(run)
(reset)
(bsave "zebra.bin")
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "electrnc.clp")
(load "circuit3.clp")
(reset)
(run)
(reset)
(bsave "circuit3.bin")
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(defrule foo                      ; DR0071
  (or (fact ?x)                   ; DR0071
      (fact ~?x))                 ; DR0071
  =>                              ; DR0071
  (assert (fact (g ?x ?x))))      ; DR0071
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
; Begin bloads, runs, and bloading while loaded
(load "mab.clp")
(reset)
(run)
(bload "dilemma1.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "dilemma2.clp")
(reset)
(run)
(bload "circuit3.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "zebra.clp")
(reset)
(run)
(bload "mab.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "zebra.clp")
(reset)
(run)
(bload "zebra.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "wordgame.clp")
(reset)
(run)
(bload "dilemma2.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(load "dilemma1.clp")
(reset)
(run)
(bload "wordgame.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(bload "zebra.bin")
(reset)
(run)
(reset)
(run)
(bload "mab.bin")
(reset)
(run)
(reset)
(run)
(bload "wordgame.bin")
(reset)
(run)
(reset)
(run)
(bload "dilemma2.bin")
(reset)
(run)
(reset)
(run)
(bload "dilemma1.bin")
(reset)
(run)
(reset)
(run)
(bload "circuit3.bin")
(reset)
(run)
(reset)
(run)
(clear)
(release-mem)
(printout memtest (mem-used) crlf)
(close memtest)
