(reset)
(set-current-module MAIN)
(generate-instances BAR 100 B D E)
(generate-instances WOZ 100 F G)
(instances *)
(instances)
(set-current-module BAR)
(instances)
(bsave-instances inssav1.bin)
(bload-instances inssav.clp)
(save-instances inssav1.out)
(progn
  (bind ?start (time))
  (restore-instances inssav1.out)
  (bind ?tt (- (time) ?start))
  (bind ?start (time))
  (bload-instances inssav1.bin)
  (bind ?bt (- (time) ?start))
  (printout t "BINARY-LOAD TIME: " ?bt " seconds" crlf)
  (printout t "TEXT-LOAD TIME: " ?tt " seconds" crlf)
  (printout t "RATIO B/T: " (if (eq ?tt 0.0) then "Infinite" else (/ ?bt ?tt)) crlf)
)
(save-instances inssav1.out)
(file-message inssav1.out "D E")
(save-instances inssav2.out gobbledy-gook)
(bsave-instances inssav2.bin gobbledy-gook)
(save-instances inssav2.out 123)
(bsave-instances inssav2.bin 123)
(bsave-instances inssav2.bin local)
(bload-instances inssav2.bin)
(save-instances inssav2.out local)
(file-message inssav2.out "D E")
(bsave-instances inssav3.bin visible)
(bload-instances inssav3.bin)
(save-instances inssav3.out visible)
(file-message inssav3.out "INITIAL-OBJECT B D E")
(save-instances inssav4.out local inherit)
(save-instances inssav4.out local inherit A)
(save-instances inssav4.out local A)
(bsave-instances inssav4.bin visible inherit A)
(bload-instances inssav4.bin)
(save-instances inssav4.out visible inherit A)
(file-message inssav4.out "B E")
(save-instances inssav5.out local C)
(save-instances inssav5.out local inherit inherit)
(save-instances inssav5.out local inherit C)
(file-message inssav5.out "D E")
(set-current-module FOO)
(instances)
(open inssav6.out inssav6 "w")
(close inssav6)
(save-instances inssav6.out local inherit B)
(file-message inssav6.out "no classes")
(save-instances inssav7.out visible inherit B)
(file-message inssav7.out "B E F")
