(clear) ; Test error conditions for load/save facts
(save-facts)
(save-facts 7)
(save-facts blah.tmp 7)
(save-facts blah.tmp hello)
(save-facts blah.tmp local bogus)
(remove blah.tmp)
(save-facts blah.tmp)
(load-facts)
(load-facts 7)
(load-facts blah.tmp bogus)
(remove blah.tmp)
(load-facts blah.tmp)
(clear) ; Test Saving and Reloading
(load factsav.clp)
(reset)
(set-current-module MAIN)
(assert (A (x 1)) (B (x 1)) (B (x 2)))
(set-current-module BAR)
(assert (D (x 2)) (C (x 1)) (D (x 1)) (E (x 1)))
(set-current-module WOZ)
(assert (G (x 1)) (F (x 1)) (G (x 2)))
(set-current-module MAIN)
(facts *)
(facts)
(save-facts fctsav1.out visible)
(save-facts fctsav2.out local A)
(set-current-module BAR)
(facts)
(save-facts fctsav3.out local C)
(save-facts fctsav4.out visible B E)
(set-current-module WOZ)
(facts)
(save-facts fctsav5.out local)
(save-facts fctsav6.out visible F G E)
(set-current-module FOO)
(facts)
(save-facts fctsav7.out local)
(save-facts fctsav8.out visible)
(reset)
(set-current-module MAIN)
(load-facts fctsav1.out)
(facts *)
(retract *)
(load-facts fctsav2.out)
(facts *)
(retract *)
(load-facts fctsav3.out)
(facts *)
(retract *)
(set-current-module BAR)
(load-facts fctsav3.out)
(facts *)
(retract *)
(load-facts fctsav4.out)
(facts *)
(retract *)
(set-current-module WOZ)
(load-facts fctsav5.out)
(facts *)
(retract *)
(load-facts fctsav6.out)
(facts *)
(retract *)
(set-current-module FOO)
(load-facts fctsav7.out)
(facts *)
(retract *)
(load-facts fctsav8.out)
(facts *)
(retract *)
